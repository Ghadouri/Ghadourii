async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.text('نتائج الطلاب', 10, 10);

    // الحصول على البيانات من الجدول
    const table = document.getElementById('results-table');
    const rows = Array.from(table.querySelectorAll('tr'));
    const tableData = rows.map(row => {
        const cells = Array.from(row.querySelectorAll('th, td'));
        return cells.map(cell => cell.textContent);
    });

    // استخدام autoTable لتنظيم الجدول في PDF
    doc.autoTable({
        head: [tableData[0]], // رؤوس الأعمدة
        body: tableData.slice(1), // البيانات
        startY: 20, // تحديد بداية الجدول في الـ PDF
        theme: 'grid', // يمكن استخدام theme لتنسيق الجدول
        margin: { top: 20 },
    });

    doc.save('نتائج الطلاب.pdf');
}
